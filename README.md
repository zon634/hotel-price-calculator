# Hotel Price Calculator  
ホテル料金計算機（Python × pandas）

## 🟠 概要
公的機関特有の宿泊料金算定ルールに基づき、  
**予約データ（CSV）から最終料金を自動計算する Python ツール**です。

年齢区分・泊数・障害割引など複数条件を組み合わせ、  
Excel では煩雑だった料金計算を **pandas によって高速かつ正確に処理**します。

---

## 🟠 開発の背景
サーバーサポート終了に伴い既存システムが使用不能となり、  
膨大な予約データを CSV で処理する必要が生じました。

従来は手書きや Excel（VLOOKUP）で対応していましたが、  
- データ量が多い  
- 計算ルールが複雑  
- 人的ミスが発生しやすい  

といった課題がありました。

そこで、  
**公的機関特有の料金算定ルールに対応した Python ベースの計算プログラム**  
を開発し、業務の効率化と正確性向上を実現しました。

---

## 🟠 使用技術
- Python  
- pandas  
- numpy  
- Jupyter Notebook  

---

## 🟠 データ構造（コード例）

```python
import pandas as pd

# 予約データ読み込み
df = pd.read_csv("予約データ.csv")

# 料金マスタ
price_master = pd.DataFrame({
    "年齢区分": ["大人", "中学生", "小学生", "未就学児"],
    "基本料金": [5000, 3000, 2500, 500]
})

# マスタ結合
df = df.merge(price_master, on="年齢区分", how="left")

# 障害割引
df["障害割引額"] = (df["障害区分"] == "あり").astype(int) * 1000

# 宿泊料金と最終料金
df["宿泊料金"] = df["基本料金"] * df["泊数"]
df["最終料金"] = df["宿泊料金"] - df["障害割引額"]




🟠 処理の流れ
予約データ（reservation_data.csv）の読み込み  
pandas を使用して DataFrame として取り込みます。

料金マスタ（price_master）の作成  
年齢区分ごとの基本料金を DataFrame として定義します。

予約データと料金マスタの結合  
年齢区分をキーに結合し、各予約に基本料金を付与します。

料金計算  
泊数・障害割引などの条件を反映し、最終料金を算出します。

結果の出力  
ターミナル表示または CSV として保存します。



🟠 今後の拡張
料金体系の細分化  
曜日・季節・繁忙期などによる料金変動に対応。

エラーハンドリングの強化  
欠損値・不正データのバリデーション追加。

GUI / Web アプリ化  
Streamlit や Flask を用いて、CSV アップロード → 自動計算できる画面を提供。

ログ出力の追加  
実行ログをファイルに保存し、処理の追跡性を向上。




